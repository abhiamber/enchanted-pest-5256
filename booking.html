<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tripvillas</title>
    <link rel="stylesheet" href="index.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    />

    <link rel="stylesheet" href="contact.css" />
    <link rel="stylesheet" href="Booking.css" />
  </head>
  <body>
    <div id="navbar">
      <div id="logo">
        <a href="index.html"
          ><img
            src="https://d2v8elt324ukrb.cloudfront.net/static/riotuikit/images/logo.c72056a22f91.png"
            alt="Tripvillas"
        /></a>
      </div>

      <div id="menu">
        <ul>
          <li id="user"><i class="fa-regular fa-user"></i></li>
          <li id="currency"><span>INR</span></li>
          <li id="hamberg"><i class="fa-solid fa-bars"></i></li>
        </ul>
      </div>
    </div>

    <div id="userEntry">
      <p id="firstL">Login</p>
      <p id="secondL">Signup</p>
    </div>

    <form action="" id="login" class="loginform">
      <input id="email1" type="text" placeholder="Enter Your Email" /> <br />
      <input id="pass1" type="password" placeholder="Enter Your password" />
      <br />
      <input type="Submit" />
    </form>

    <form action="" id="signup" class="signupform">
      <input id="emails2" type="text" placeholder="Enter Your Email" /> <br />
      <input id="mob" type="tel" placeholder="Enter Your Moble No" /> <br />
      <input id="name" type="text" placeholder="Enter Your Name" />
      <input id="pass2" type="password" placeholder="Enter Your password" />
      <input type="Submit" />
    </form>

    <div id="ham">
      <a href="about.html">About Us</a>
      <a href=""> Privacy Policy</a>
      <a href="">Terms Of Use</a>
      <a href="faq.html">FAQs</a>
      <a href="contact.html">Contact Us</a>
    </div>

    <div id="bookingcontainer">
      <p>Starting <i class="fa-solid fa-indian-rupee-sign"></i> 1000 Minimum</p>
      <form action="" id="requesttobook">
        <p>Checkin Date</p>
        <input type="date" />
        <p>Checkut Date</p>
        <input type="date" />

        <input type="number" id="days" placeholder="Number Of Days" />

        <input type="number" id="guest" placeholder="Number Of Guests" />
        <input
          id="usedEmail"
          type="email"
          placeholder="Enter Your Email used During Signup"
        />

        <span id="spans">Click To Check For Total:-</span>
        <span id="totalAmount"></span>
        <h5 id="error"></h5>
        <input type="submit" value="Request To Book" />
      </form>
    </div>

    <footer>
      <div>
        <a href="index.html">
          <img
            src="https://d2v8elt324ukrb.cloudfront.net/static/new_template/img/logo.b01085f692cb.png"
            alt=""
          />
        </a>
        <p>
          Tripvillas offers verified, fully furnished holiday homes many of
          which come with resident caretakers. This allows you to holiday in
          comfort, style and without rushing your holiday
        </p>
        <i class="fa-brands fa-facebook"></i>
        <i class="fa-brands fa-twitter-square"></i>
        <i class="fa-brands fa-linkedin"></i>
        <i class="fa-solid fa-book-atlas"></i>
      </div>
      <div>
        <h3>Incredible Offers on the Best Villas</h3>
        <input type="text" placeholder="Enter Your Email" />
        <button>Subscribe</button>
      </div>
      <div>
        <a href="about.html">About Us</a>
        <a href="">Privacy Policy</a>
        <a href="">Terms of Use</a>
        <a href="faq.html">FAQs</a>
        <a href="contact.html">Contact Us</a>
        <a href="index.html">Property Managers</a>
        <a href="index.html">Holiday Communities</a>
      </div>
      <div>
        <h2>Have Questions?</h2>
        <a href="">support@tripvillas.com</a>
      </div>
    </footer>
  </body>
</html>
<!-- <script src="index.js"></script> -->
<script>
  document
    .querySelector("#spans")
    .addEventListener("click", displayTotalAmount);

  function displayTotalAmount() {
    document.querySelector("#error").innerHTML = "";

    // console.log("hello");
    let days = document.querySelector("#days").value;
    let guest = document.querySelector("#guest").value;
    if (days == "" || guest == "") {
      document.querySelector("#error").innerText = "please fill input";
      document.querySelector("#error").style.color = "red";
    } else {
      let value = 1000 * Number(days) + 1000 * Number(guest);
      document.querySelector("#totalAmount").innerText = value;
    }
  }

  let userconfirmData =
    JSON.parse(localStorage.getItem("userDataOfSignup")) || [];

  document
    .querySelector("#requesttobook")
    .addEventListener("submit", checkForRequest);

  function checkForRequest(e) {
    e.preventDefault();

    let usedEmail = document.querySelector("#usedEmail").value;
    userconfirmData.map(function (elem) {
      if (elem.emailsignup == usedEmail) {
        window.location.href = "payment.html";
      } else {
        alert("Register Before Booking");
      }
    });
  }
</script>
